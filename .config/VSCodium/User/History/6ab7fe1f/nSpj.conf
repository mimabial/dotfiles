## Start windows and panes at 1, not 0
set -g base-index 1
setw -g pane-base-index 2

## Most compatible setting:
set -g default-terminal "screen-256color"

# {{{ plugin settings

# tmux-yank: https://github.com/tmux-plugins/tmux-yank/blob/master/scripts/helpers.sh#L56
# mouse yank to system clipboard
set -g @yank_selection_mouse 'clipboard' # or 'primary' or 'secondary'
set -g @yank_action 'copy-pipe-and-cancel'

# override tmux-yank's default mouse yank: if copy-commande use
# copy-pipe-and-cancel, it'll drag and copy:
# https://github.com/tmux-plugins/tmux-yank/blob/master/yank.tmux#L51 We want
# to be able to drag again to reselect and copy -b to put in background; -d 1
# to delay 1 second
# TODO: new version of tmux use set -s copy-command 'pbcopy'
run -b -d 1 'tmux bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-no-clear'

# search engine google
set -g @open-S 'https://www.google.com/search?q='

set -g @extrakto_fzf_tool $HOME/.fzf/bin/fzf
# display "$HOME/.fzf/bin/fzf $FZF_DEFAULT_OPTS"
set -g @extrakto_grab_area 'window full'
set -g @extrakto_split_size "15"
# set -g @extrakto_clip_tool "xsel --input --clipboard" # works better for nvim
set -g @extrakto_copy_key "tab"
set -g @extrakto_insert_key "enter"

set -g @jump-key 'j'

# set -g @resurrect-strategy-nvim 'session'
set -g @resurrect-processes 'false'
set -g @resurrect-save 'S'

set -g @emulate-scroll-for-no-mouse-alternate-buffer on

# Basic theme
## Theme options
set -goq  @theme-clock-mode-colour red
set -goq  @theme-clock-mode-style 24
set -goq  @theme-display-panes-active-colour default
set -goq  @theme-display-panes-colour default
set -goq  @theme-message-bg default
set -goq  @theme-message-command-bg default
set -goq  @theme-message-command-fg default
set -goq  @theme-message-fg default
set -goq  @theme-mode-bg red
set -goq  @theme-mode-fg default
set -goq  @theme-pane-active-border-bg default
set -goq  @theme-pane-active-border-fg green
set -goq  @theme-pane-border-bg default
set -goq  @theme-pane-border-fg default
set -goq  @theme-status-bg black
set -goq  @theme-status-fg cyan
set -goq  @theme-status-interval 1
set -goq  @theme-status-justify left
set -goq  @theme-status-left-bg black
set -goq  @theme-status-left-fg green
set -goq  @theme-status-left-length 20
set -goq  @theme-status-right-bg black
set -goq  @theme-status-right-fg cyan
set -goq  @theme-status-right-length 40
set -goq  @theme-window-status-activity-bg black
set -goq  @theme-window-status-activity-fg yellow
set -goq  @theme-window-status-current-bg red
set -goq  @theme-window-status-current-fg black
set -goqF @theme-window-status-current-format " #{@themepack-window-status-current-format} "
set -goqF @theme-window-status-format " #{@themepack-window-status-format} "
set -goq  @theme-window-status-separator ""

## Apply @theme-* options to Tmux
set -gF  display-panes-active-colour "#{@theme-display-panes-active-colour}"
set -gF  display-panes-colour "#{@theme-display-panes-colour}"
set -gF  message-command-style "fg=#{@theme-message-command-fg},bg=#{@theme-message-command-bg}"
set -gF  message-style "fg=#{@theme-message-fg},bg=#{@theme-message-bg}"
set -g status-interval 1
set -gF  status-justify "#{@theme-status-justify}"
set -gF  status-left ""
set -gF  status-left-length "#{@theme-status-left-length}"
set -gF  status-left-style "fg=#{@theme-status-left-fg},bg=#{@theme-status-left-bg}"
set -gF  status-right "#[fg=white][#S]#I:#P | %d.%m.%y | %H:%M:%S "
set -gF  status-right-length "#{@theme-status-right-length}"
set -gF  status-right-style "fg=#{@theme-status-right-fg},bg=#{@theme-status-right-bg}"
set -gF  status-style "fg=#{@theme-status-fg},bg=#{@theme-status-bg}"
set -gwF clock-mode-colour "#{@theme-clock-mode-colour}"
set -gwF clock-mode-style "#{@theme-clock-mode-style}"
set -gwF mode-style "fg=#{@theme-mode-fg},bg=#{@theme-mode-bg}"
set -gwF pane-active-border-style "fg=#{@theme-pane-active-border-fg},bg=#{@theme-pane-active-border-bg}"
set -gwF pane-border-style "fg=#{@theme-pane-border-fg},bg=#{@theme-pane-border-bg}"
set -gwF window-status-activity-style "fg=#{@theme-window-status-activity-fg},bg=#{@theme-window-status-activity-bg}"
set -gwF window-status-current-format " #I:#W#F "
set -gwF window-status-current-style "fg=#{@theme-window-status-current-fg},bg=#{@theme-window-status-current-bg}"
set -gwF window-status-format " #I:#W#F "
set -gwF window-status-separator "#{@theme-window-status-separator}"

# }} {{{ List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'

set -g @plugin 'tmux-plugins/tmux-open' # for open search or file
set -g @plugin 'tmux-plugins/tmux-yank' # set up many yank commands
set -g @plugin 'laktak/extrakto' # select word from screen
set -g @plugin 'schasse/tmux-jump' # <prefix> [j]ump
set -g @plugin 'tmux-plugins/tmux-resurrect' # <prefix> <c-s>/<c-r> to save/restore
set -g @plugin 'nhdaly/tmux-better-mouse-mode' # for scrolling in less

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run -b '~/.config/tmux/plugins/tpm/tpm'
# }}}

