shell /usr/bin/fish

include nerdfont.conf
include theme.conf

font_family      FiraCode Nerd Font
# bold_font        Fira Code Bold
italic_font      Maple Mono Italic
bold_italic_font Maple Mono Bold Italic
font_size 14.0
modify_font cell_height 4
modify_font baseline -1
modify_font strikethrough_position 8px
update_check_interval 0
cursor_trail 1
confirm_os_window_close 0

disable_ligatures cursorshell /usr/bin/fish
inactive_text_alpha 0.75
mouse_hide_wait 3.0
enable_audio_bell no
allow_remote_control yes
listen_on unix:/tmp/kitty-{kitty_pid}.sock
macos_option_as_alt yes
macos_quit_when_last_window_closed yes
scrollback_lines 10000
scrollback_pager_history_size 50

hide_window_decorations   yes
window_border_width 1.5pt
window_padding_width 1

dynamic_background_opacity yes
background_opacity 0.9
iactive-opacity 0.5

enabled_layouts           splits, tall, fat, grid, horizontal, vertical, stack

tab_bar_background        none
tab_bar_edge              top
tab_bar_min_tabs          1
tab_bar_style             custom
tab_separator             ""
tab_bar_margin_width      2
tab_bar_margin_height     5 0
active_tab_font_style     bold_italic
tab_title_template        "{fmt.fg._515151}{fmt.bg.default}{fmt.fg._abb2bf}{fmt.bg._515151} {index}:{title} {fmt.fg._515151}{fmt.bg.default} "
active_tab_title_template "{fmt.fg._83a598}{fmt.bg.default}{fmt.fg._282c34}{fmt.bg._83a598} {index}:{title}{" Z" if layout_name == "stack" else ""} {fmt.fg._83a598}{fmt.bg.default} "

kitty_mod ctrl+shift

mouse_map left click ungrabbed no-op
map ctrl+a>esc no_op

# this is the undo in bash/zsh
map ctrl+shift+- no_op
map ctrl+shift++ no_op

# -- scrolling -------------------------------------------------------------------

map ctrl+shift+down scroll_line_down
map ctrl+shift+up scroll_line_up
map ctrl+shift+k scroll_to_prompt -1
map ctrl+shift+j scroll_to_prompt 1
map ctrl+shift+page_up scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home scroll_home
map ctrl+shift+end scroll_end

map ctrl+shift+h show_scrollback
map ctrl+shift+c clear_terminal scroll active

# -- windows management -------------------------------------------------------------------

## overlay example
# map ctrl+a>f7 launch --title "TODO overlay" --type=overlay screen -d -RR todo nvim $HOME/Documents/.notes/to_do

map ctrl+shift+f8 swap_with_window
map ctrl+shift+f7 focus_visible_window

map ctrl+shift+- launch --cwd=current --location hsplit
map ctrl+shift+\ launch --cwd=current --location vsplit

map ctrl+h kitten pass_keys.py neighboring_window left   ctrl+h
map ctrl+j kitten pass_keys.py neighboring_window bottom ctrl+j
map ctrl+k kitten pass_keys.py neighboring_window top    ctrl+k
map ctrl+l kitten pass_keys.py neighboring_window right  ctrl+l

map ctrl+shift+x close_window
map ctrl+shift+d detach_window ask
map ctrl+shift+t move_window_to_top
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward
map ctrl+shift+n next_window
map ctrl+shift+p previous_window
map ctrl+shift+r start_resizing_window

map ctrl+shift+1 first_window
map ctrl+shift+2 second_window
map ctrl+shift+3 third_window
map ctrl+shift+4 fourth_window
map ctrl+shift+5 fifth_window
map ctrl+shift+6 sixth_window
map ctrl+shift+7 seventh_window
map ctrl+shift+8 eighth_window
map ctrl+shift+9 ninth_window
map ctrl+shift+0 tenth_window

map ctrl+alt+n next_layout

# -- tab management -------------------------------------------------------------------

map alt+c new_tab_with_cwd
map alt+k close_tab
map alt+n next_tab
map alt+p previous_tab
map alt+b move_tab_forward
map alt+f move_tab_backward

map alt+d detach_tab
map alt+s select_tab
map alt+t set_tab_title

map alt+1 goto_tab 1
map alt+2 goto_tab 2
map alt+3 goto_tab 3
map alt+4 goto_tab 4
map alt+5 goto_tab 5
map alt+6 goto_tab 6
map alt+7 goto_tab 7
map alt+8 goto_tab 8
map alt+9 goto_tab 9
map alt+0 goto_tab 10

## miscellanious
map ctrl+shift+f2 edit_config_file
map ctrl+shift+f5 load_config_file
map ctrl+shift+f6 debug_config

## clipboard
map alt+v combine : launch --stdin-source=@last_cmd_output --type=clipboard : paste_from_clipboard
map alt+c launch --stdin-source=@last_cmd_output --type=clipboard

map kitty_mod+/>/ open_url https://localhost:3000/
map kitty_mod+/>e  show_kitty_env_vars
